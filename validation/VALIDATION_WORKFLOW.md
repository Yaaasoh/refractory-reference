# 用語集品質検証ワークフロー

**目的**: 技術用語集の公開前品質検証プロセス標準化
**適用範囲**: 耐火物・製鉄・建設分野の用語集

---

## 1. 検証の目的

用語集を公開リポジトリに含める前に、以下を確認する:

1. **データ品質**: 文字化け・構造崩れがないこと
2. **用語集としての適切性**: 仕様値・カタログ情報ではなく、用語定義であること
3. **コンテンツの適切性**: 特定のクライアント・プロジェクトを識別できる情報がないこと

---

## 2. 検証カテゴリ

### カテゴリA: 除外パターン

| サブカテゴリ | 説明 | 検索方法 |
|-------------|------|---------|
| A1. 企業名 | 耐火物メーカー、製鉄会社、協力会社 | パターンファイル参照 |
| A2. 人名 | 一般的な日本人苗字 | パターンファイル参照 |
| A3. 敬称・識別子 | 「様」「殿」「御中」、特定識別子 | 正規表現検索 |

### カテゴリB: 不適切コンテンツ

| サブカテゴリ | 説明 | 例 |
|-------------|------|-----|
| B1. 仕様値・参考値 | 具体的な数値範囲 | 「50〜500 Pa」「1450〜1550℃」 |
| B2. 製品・ブランド名 | 商品名、ソフトウェア名 | 特定製品の商標 |
| B3. 操業データ | 生産量、稼働条件 | 「日産○○t」 |

### カテゴリC: データ品質

| サブカテゴリ | 説明 | 検索方法 |
|-------------|------|---------|
| C1. 文字化け | 破損文字 | `[�\x00-\x08]` |
| C2. 構造崩れ | テーブル・見出しの不整合 | マークダウン検証 |

---

## 3. 検証プロセス

### Phase 1: 自動検証（スクリプト実行）

```bash
# 検証スクリプト実行
./validation/validate_glossary.sh <対象ディレクトリ>

# 出力例
[PASS] 企業名パターン: 0件検出
[PASS] 人名パターン: 0件検出
[WARN] 数値範囲: 3件検出 → 確認必要
[FAIL] 文字化け: 1件検出 → 要修正
```

### Phase 2: 手動確認

自動検証で検出された項目について:

1. **WARN項目**: 業界標準値（JIS規格等）かどうか判定
2. **FAIL項目**: 即座に修正

### Phase 3: 最終レビュー

- [ ] 全ファイルの目視確認
- [ ] マークダウンプレビューで表示確認
- [ ] レビュアー承認

---

## 4. 判定基準

### PASS（公開可能）

- 除外パターン: 0件
- 文字化け: 0件
- 不適切コンテンツ: 0件（または業界標準として承認済み）

### FAIL（要修正）

以下のいずれかに該当:
- 除外パターン検出
- 文字化け検出
- 未承認の仕様値・製品名

---

## 5. パターンファイル構成

検証に使用するパターンファイル:

| ファイル | 内容 | パターン数 |
|----------|------|-----------|
| `patterns/companies.txt` | 企業名（耐火物、製鉄、ミキサー、ポンプ等） | 約100社 |
| `patterns/surnames.txt` | 一般的な日本人苗字 | 100姓 |
| `patterns/identifiers.txt` | 識別子・敬称・特定マーカー | 約20パターン |

**設計思想**:
- 業界で一般的な企業名・苗字を網羅的にリスト化
- 特定クライアントを識別しない一般化されたパターン
- パターンへの該当 = 要確認

---

## 6. 検証記録

各検証実行時に以下を記録:

```
検証日時: YYYY-MM-DD HH:MM
対象ファイル: X件
検出項目: Y件
判定: PASS / FAIL
検証者: （任意）
```

---

*ワークフロー作成日: 2025-12-20*
